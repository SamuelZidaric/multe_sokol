<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Multe Sokol</title>
  <link rel="stylesheet" href="style.css">

  <!-- React and ReactDOM from CDN -->
  <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
  <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>

  <!-- Babel Standalone for JSX transformation -->
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
</head>
<body>
  <div id="root"></div>

  <!-- Bootstrap the React application -->
  <script type="text/babel">
    const { useState, useEffect } = React;

    const BasketballTracker = () => {
      // State for data loaded from JSON
      const [playersData, setPlayersData] = useState([]);
      const [multeTypesData, setMulteTypesData] = useState([]);
      const [finesInstances, setFinesInstances] = useState([]);
      const [currentPage, setCurrentPage] = useState('home');
      const [currentPlayerId, setCurrentPlayerId] = useState(null);

      // Load data from JSON files
      useEffect(() => {
        // Load players data
        fetch('./players.json')
          .then(response => response.json())
          .then(data => setPlayersData(data))
          .catch(error => console.error('Error loading players:', error));

        // Load multe types data
        fetch('./multe-types.json')
          .then(response => response.json())
          .then(data => setMulteTypesData(data))
          .catch(error => console.error('Error loading multe types:', error));

        // Load fines instances data
        fetch('./fines-instances.json')
          .then(response => response.json())
          .then(data => setFinesInstances(data))
          .catch(error => console.error('Error loading fines instances:', error));
      }, []);

      // Handle hash-based routing
      useEffect(() => {
        const handleHashChange = () => {
          const hash = window.location.hash;
          if (hash.startsWith('#player/')) {
            const playerId = parseInt(hash.replace('#player/', ''));
            setCurrentPage('player');
            setCurrentPlayerId(playerId);
          } else if (hash === '#all-fines') {
            setCurrentPage('all-fines');
            setCurrentPlayerId(null);
          } else {
            setCurrentPage('home');
            setCurrentPlayerId(null);
          }
        };

        // Initial load
        handleHashChange();

        // Listen to hash changes
        window.addEventListener('hashchange', handleHashChange);
        return () => window.removeEventListener('hashchange', handleHashChange);
      }, []);

      const navigateToPlayer = (playerId) => {
        window.location.hash = `#player/${playerId}`;
      };

      const navigateToHome = () => {
        window.location.hash = '';
      };

      const navigateToAllFines = () => {
        window.location.hash = '#all-fines';
      };

      // Parse date from DD/MM/YYYY to Date object
      const parseDate = (dateStr) => {
        const [day, month, year] = dateStr.split('/');
        return new Date(year, month - 1, day);
      };

      // Calculate player multe stats
      const playerMulteStats = () => {
        if (!playersData.length || !multeTypesData.length || !finesInstances.length) return [];

        const stats = [];
        playersData.forEach(player => {
          const playerFines = finesInstances.filter(f => f.player_id === player.id);
          if (playerFines.length > 0) {
            const pendingFines = playerFines.filter(f => f.status === 'Pending');
            const validatedFines = playerFines.filter(f => f.status === 'Validated');

            let totalEuro = 0;
            let totalEuroPending = 0;
            let totalEuroValidated = 0;
            let kasaCount = 0;
            let kasaCountPending = 0;
            let kasaCountValidated = 0;
            let merendaCount = 0;
            let merendaCountPending = 0;
            let merendaCountValidated = 0;

            playerFines.forEach(fine => {
              const multaType = multeTypesData.find(mt => mt.id === fine.multa_id);
              if (multaType) {
                const isPending = fine.status === 'Pending';
                if (typeof multaType.price === 'number') {
                  totalEuro += multaType.price;
                  if (isPending) totalEuroPending += multaType.price;
                  else totalEuroValidated += multaType.price;
                } else if (multaType.price === 'KASA') {
                  kasaCount++;
                  if (isPending) kasaCountPending++;
                  else kasaCountValidated++;
                } else if (multaType.price === 'MERENDA') {
                  merendaCount++;
                  if (isPending) merendaCountPending++;
                  else merendaCountValidated++;
                }
              }
            });

            stats.push({
              player,
              totalCount: playerFines.length,
              pendingCount: pendingFines.length,
              validatedCount: validatedFines.length,
              totalEuro,
              totalEuroPending,
              totalEuroValidated,
              kasaCount,
              kasaCountPending,
              kasaCountValidated,
              merendaCount,
              merendaCountPending,
              merendaCountValidated
            });
          }
        });

        return stats.sort((a, b) => b.totalCount - a.totalCount);
      };

      // Get next 5 pending multe chronologically
      const getUpcomingMulte = () => {
        if (!finesInstances.length || !playersData.length || !multeTypesData.length) return [];

        const pendingFines = finesInstances
          .filter(f => f.status === 'Pending')
          .map(fine => ({
            ...fine,
            dateObj: parseDate(fine.date),
            player: playersData.find(p => p.id === fine.player_id),
            multaType: multeTypesData.find(mt => mt.id === fine.multa_id)
          }))
          .sort((a, b) => a.dateObj - b.dateObj)
          .slice(0, 5);

        return pendingFines;
      };

      const stats = playerMulteStats();
      const upcomingMulte = getUpcomingMulte();

      const totalMulteCount = stats.reduce((sum, s) => sum + s.totalCount, 0);
      const totalPendingCount = stats.reduce((sum, s) => sum + s.pendingCount, 0);
      const totalValidatedCount = stats.reduce((sum, s) => sum + s.validatedCount, 0);
      const totalEuroSum = stats.reduce((sum, s) => sum + s.totalEuro, 0);
      const totalEuroPending = stats.reduce((sum, s) => sum + s.totalEuroPending, 0);
      const totalEuroValidated = stats.reduce((sum, s) => sum + s.totalEuroValidated, 0);
      const totalKasa = stats.reduce((sum, s) => sum + s.kasaCount, 0);
      const totalKasaPending = stats.reduce((sum, s) => sum + s.kasaCountPending, 0);
      const totalKasaValidated = stats.reduce((sum, s) => sum + s.kasaCountValidated, 0);
      const totalMerenda = stats.reduce((sum, s) => sum + s.merendaCount, 0);
      const totalMerendaPending = stats.reduce((sum, s) => sum + s.merendaCountPending, 0);
      const totalMerendaValidated = stats.reduce((sum, s) => sum + s.merendaCountValidated, 0);

      if (currentPage === 'all-fines') {
        return (
          <AllFinesPage
            playersData={playersData}
            multeTypesData={multeTypesData}
            finesInstances={finesInstances}
            navigateToHome={navigateToHome}
            navigateToPlayer={navigateToPlayer}
            parseDate={parseDate}
          />
        );
      }

      if (currentPage === 'player' && currentPlayerId) {
        return (
          <PlayerPage
            playerId={currentPlayerId}
            playersData={playersData}
            multeTypesData={multeTypesData}
            finesInstances={finesInstances}
            navigateToHome={navigateToHome}
            parseDate={parseDate}
          />
        );
      }

      return (
        <div className="app-container">
          <h1 className="app-title">
            Multe Sokol
          </h1>

          {/* Upcoming Multe Section */}
          {upcomingMulte.length > 0 && (
            <div className="upcoming-multe">
              <h3>üîú Naslednje multe u vrsti</h3>
              <div className="upcoming-multe-list">
                {upcomingMulte.map(fine => {
                  const priceInfo = typeof fine.multaType?.price === 'number'
                    ? `${fine.multaType.price}‚Ç¨`
                    : fine.multaType?.price === 'KASA'
                    ? 'KASA'
                    : 'MERENDA';

                  return (
                    <div key={fine.id} className="upcoming-multa-item">
                      <span className="player-name">
                        <a
                          href={`#player/${fine.player_id}`}
                          className="player-link"
                          style={{color: 'var(--team-white)', textDecoration: 'none'}}
                        >
                          {fine.player?.name} {fine.player?.surname}
                        </a>
                      </span>
                      <span className="multa-desc">
                        {fine.multaType?.name} - {fine.desc}
                      </span>
                      <span className="multa-price-info" style={{fontWeight: '700', fontSize: '1.05em'}}>
                        üí∞ {priceInfo}
                      </span>
                      <span className="multa-date">{fine.date}</span>
                    </div>
                  );
                })}
              </div>
            </div>
          )}

          {/* Multe Section */}
          <div className="section section-player-multe">
            <h2 className="section-title section-title-purple">MULTE</h2>
            <PlayerMulteStats
              stats={stats}
              multeTypesData={multeTypesData}
              totalMulteCount={totalMulteCount}
              totalPendingCount={totalPendingCount}
              totalValidatedCount={totalValidatedCount}
              totalEuroSum={totalEuroSum}
              totalEuroPending={totalEuroPending}
              totalEuroValidated={totalEuroValidated}
              totalKasa={totalKasa}
              totalKasaPending={totalKasaPending}
              totalKasaValidated={totalKasaValidated}
              totalMerenda={totalMerenda}
              totalMerendaPending={totalMerendaPending}
              totalMerendaValidated={totalMerendaValidated}
              navigateToPlayer={navigateToPlayer}
              navigateToAllFines={navigateToAllFines}
            />
          </div>

          {/* Legend Section */}
          <div className="section section-multe-list">
            <h2 className="section-title section-title-orange">LEGEND</h2>
            <div className="multe-grid">
              {multeTypesData.map(multa => (
                <div key={multa.id}>
                  <strong>{multa.id}.</strong> {multa.name} - {' '}
                  {typeof multa.price === 'number' ? (
                    <strong>{multa.price}‚Ç¨</strong>
                  ) : multa.price === 'KASA' ? (
                    <span className="badge badge-kasa">KASA</span>
                  ) : (
                    <span className="badge badge-merenda">MERENDA</span>
                  )}
                </div>
              ))}
            </div>
            <div className="multe-note">
              <p><strong>Note:</strong></p>
              <p><span className="badge badge-kasa">KASA</span> = Prnesi kaso n trening (fantazija je dobrodo≈°la)</p>
              <p><span className="badge badge-merenda">MERENDA</span> = Kasa + Jedaƒça</p>
            </div>
          </div>
        </div>
      );
    };

    // Player Page Component
    const PlayerPage = ({ playerId, playersData, multeTypesData, finesInstances, navigateToHome, parseDate }) => {
      const player = playersData.find(p => p.id === playerId);

      if (!player) {
        return (
          <div className="app-container">
            <h1>Player not found</h1>
            <button className="btn" onClick={navigateToHome}>Back to Home</button>
          </div>
        );
      }

      const playerFines = finesInstances
        .filter(f => f.player_id === playerId)
        .map(fine => ({
          ...fine,
          dateObj: parseDate(fine.date),
          multaType: multeTypesData.find(mt => mt.id === fine.multa_id)
        }))
        .sort((a, b) => a.dateObj - b.dateObj);

      const pendingFines = playerFines.filter(f => f.status === 'Pending');
      const validatedFines = playerFines.filter(f => f.status === 'Validated');

      let totalEuro = 0;
      let totalEuroPending = 0;
      let totalEuroValidated = 0;
      let kasaCount = 0;
      let kasaCountPending = 0;
      let kasaCountValidated = 0;
      let merendaCount = 0;
      let merendaCountPending = 0;
      let merendaCountValidated = 0;

      playerFines.forEach(fine => {
        const multaType = fine.multaType;
        if (multaType) {
          const isPending = fine.status === 'Pending';
          if (typeof multaType.price === 'number') {
            totalEuro += multaType.price;
            if (isPending) totalEuroPending += multaType.price;
            else totalEuroValidated += multaType.price;
          } else if (multaType.price === 'KASA') {
            kasaCount++;
            if (isPending) kasaCountPending++;
            else kasaCountValidated++;
          } else if (multaType.price === 'MERENDA') {
            merendaCount++;
            if (isPending) merendaCountPending++;
            else merendaCountValidated++;
          }
        }
      });

      return (
        <div className="app-container">
          <div className="player-page">
            <a href="#" className="back-button" onClick={(e) => { e.preventDefault(); navigateToHome(); }}>
              ‚Üê Back to Home
            </a>

            <div className="player-header">
              <h2>{player.name} {player.surname}</h2>
              <div className="player-info">
                {player.alias !== 'ND' && `Alias: ${player.alias} | `}
                Year: {player.year}
              </div>
            </div>

            <div className="player-stats-summary">
              <div className="player-stat-box">
                <strong>Total Multe</strong>
                <div className="stat-value">{playerFines.length}</div>
              </div>
              <div className="player-stat-box">
                <strong>Pending</strong>
                <div className="stat-value" style={{color: 'var(--team-red)'}}>{pendingFines.length}</div>
              </div>
              <div className="player-stat-box">
                <strong>Validated</strong>
                <div className="stat-value" style={{color: '#4caf50'}}>{validatedFines.length}</div>
              </div>
              <div className="player-stat-box">
                <strong>Total ‚Ç¨</strong>
                <div className="stat-value">{totalEuro.toFixed(2)}‚Ç¨</div>
              </div>
              {kasaCount > 0 && (
                <div className="player-stat-box">
                  <strong>KASA</strong>
                  <div className="stat-value">{kasaCount}</div>
                </div>
              )}
              {merendaCount > 0 && (
                <div className="player-stat-box">
                  <strong>MERENDA</strong>
                  <div className="stat-value">{merendaCount}</div>
                </div>
              )}
            </div>

            <h3 style={{color: 'var(--team-blue)', marginBottom: '20px', fontSize: '1.8em'}}>
              Storico Multe (Cronologico)
            </h3>

            <div className="table-container">
              <table className="multe-history-table">
                <thead>
                  <tr>
                    <th>Data</th>
                    <th>Multa</th>
                    <th>Descrizione</th>
                    <th>Prezzo</th>
                    <th>Status</th>
                  </tr>
                </thead>
                <tbody>
                  {playerFines.map(fine => {
                    const multaType = fine.multaType;
                    if (!multaType) return null;

                    const priceStr = typeof multaType.price === 'number' ? `${multaType.price}‚Ç¨` :
                                    multaType.price === 'KASA' ? (
                                      <span className="badge badge-kasa">KASA</span>
                                    ) : (
                                      <span className="badge badge-merenda">MERENDA</span>
                                    );

                    return (
                      <tr key={fine.id} className={`multe-row ${fine.status.toLowerCase()}`}>
                        <td style={{fontWeight: '600', color: 'var(--team-blue)'}}>{fine.date}</td>
                        <td style={{fontWeight: '600'}}>{multaType.name}</td>
                        <td style={{fontStyle: 'italic', color: 'var(--team-grey-dark)'}}>{fine.desc || '-'}</td>
                        <td style={{fontWeight: '700', color: 'var(--team-red)'}}>{priceStr}</td>
                        <td>
                          <span className={`status-badge badge-${fine.status.toLowerCase()}`}>
                            {fine.status}
                          </span>
                        </td>
                      </tr>
                    );
                  })}
                </tbody>
              </table>
            </div>
          </div>
        </div>
      );
    };

    // All Fines Page Component
    const AllFinesPage = ({ playersData, multeTypesData, finesInstances, navigateToHome, navigateToPlayer, parseDate }) => {
      const allFines = finesInstances
        .map(fine => ({
          ...fine,
          dateObj: parseDate(fine.date),
          player: playersData.find(p => p.id === fine.player_id),
          multaType: multeTypesData.find(mt => mt.id === fine.multa_id)
        }))
        .sort((a, b) => a.dateObj - b.dateObj);

      const pendingFines = allFines.filter(f => f.status === 'Pending');
      const validatedFines = allFines.filter(f => f.status === 'Validated');

      let totalEuro = 0;
      let totalEuroPending = 0;
      let totalEuroValidated = 0;
      let kasaCount = 0;
      let kasaCountPending = 0;
      let kasaCountValidated = 0;
      let merendaCount = 0;
      let merendaCountPending = 0;
      let merendaCountValidated = 0;

      allFines.forEach(fine => {
        const multaType = fine.multaType;
        if (multaType) {
          const isPending = fine.status === 'Pending';
          if (typeof multaType.price === 'number') {
            totalEuro += multaType.price;
            if (isPending) totalEuroPending += multaType.price;
            else totalEuroValidated += multaType.price;
          } else if (multaType.price === 'KASA') {
            kasaCount++;
            if (isPending) kasaCountPending++;
            else kasaCountValidated++;
          } else if (multaType.price === 'MERENDA') {
            merendaCount++;
            if (isPending) merendaCountPending++;
            else merendaCountValidated++;
          }
        }
      });

      return (
        <div className="app-container">
          <div className="player-page">
            <a href="#" className="back-button" onClick={(e) => { e.preventDefault(); navigateToHome(); }}>
              ‚Üê Back to Home
            </a>

            <div className="player-header">
              <h2>Tutte le Multe - Cronologia Completa</h2>
              <div className="player-info">
                Vista cronologica di tutte le multe del team
              </div>
            </div>

            <div className="player-stats-summary">
              <div className="player-stat-box">
                <strong>Total Multe</strong>
                <div className="stat-value">{allFines.length}</div>
              </div>
              <div className="player-stat-box">
                <strong>Pending</strong>
                <div className="stat-value" style={{color: 'var(--team-red)'}}>{pendingFines.length}</div>
              </div>
              <div className="player-stat-box">
                <strong>Validated</strong>
                <div className="stat-value" style={{color: '#4caf50'}}>{validatedFines.length}</div>
              </div>
              <div className="player-stat-box">
                <strong>Total ‚Ç¨</strong>
                <div className="stat-value">{totalEuro.toFixed(2)}‚Ç¨</div>
              </div>
              {kasaCount > 0 && (
                <div className="player-stat-box">
                  <strong>KASA</strong>
                  <div className="stat-value">{kasaCount}</div>
                </div>
              )}
              {merendaCount > 0 && (
                <div className="player-stat-box">
                  <strong>MERENDA</strong>
                  <div className="stat-value">{merendaCount}</div>
                </div>
              )}
            </div>

            <h3 style={{color: 'var(--team-blue)', marginBottom: '20px', fontSize: '1.8em'}}>
              Storico Completo (Cronologico)
            </h3>

            <div className="table-container">
              <table className="multe-history-table">
                <thead>
                  <tr>
                    <th>Data</th>
                    <th>Giocatore</th>
                    <th>Multa</th>
                    <th>Descrizione</th>
                    <th>Prezzo</th>
                    <th>Status</th>
                  </tr>
                </thead>
                <tbody>
                  {allFines.map(fine => {
                    const multaType = fine.multaType;
                    const player = fine.player;
                    if (!multaType || !player) return null;

                    const priceStr = typeof multaType.price === 'number' ? `${multaType.price}‚Ç¨` :
                                    multaType.price === 'KASA' ? (
                                      <span className="badge badge-kasa">KASA</span>
                                    ) : (
                                      <span className="badge badge-merenda">MERENDA</span>
                                    );

                    return (
                      <tr key={fine.id} className={`multe-row ${fine.status.toLowerCase()}`}>
                        <td style={{fontWeight: '600', color: 'var(--team-blue)'}}>{fine.date}</td>
                        <td style={{fontWeight: '600'}}>
                          <a
                            href={`#player/${player.id}`}
                            className="player-link"
                            onClick={(e) => {
                              e.preventDefault();
                              navigateToPlayer(player.id);
                            }}
                            style={{color: 'var(--team-blue)', textDecoration: 'none'}}
                          >
                            {player.name} {player.surname}
                          </a>
                        </td>
                        <td style={{fontWeight: '600'}}>{multaType.name}</td>
                        <td style={{fontStyle: 'italic', color: 'var(--team-grey-dark)'}}>{fine.desc || '-'}</td>
                        <td style={{fontWeight: '700', color: 'var(--team-red)'}}>{priceStr}</td>
                        <td>
                          <span className={`status-badge badge-${fine.status.toLowerCase()}`}>
                            {fine.status}
                          </span>
                        </td>
                      </tr>
                    );
                  })}
                </tbody>
              </table>
            </div>
          </div>
        </div>
      );
    };

    // Components
    const PlayerMulteStats = ({
      stats,
      multeTypesData,
      totalMulteCount,
      totalPendingCount,
      totalValidatedCount,
      totalEuroSum,
      totalEuroPending,
      totalEuroValidated,
      totalKasa,
      totalKasaPending,
      totalKasaValidated,
      totalMerenda,
      totalMerendaPending,
      totalMerendaValidated,
      navigateToPlayer,
      navigateToAllFines
    }) => {
      if (stats.length === 0) {
        return <p>Nessuna multa registrata ancora.</p>;
      }

      return (
        <div className="stats-grid">
          <div className="stats-total">
            <h3>Statistiche Totali</h3>
            <div className="stats-total-grid">
              <div
                onClick={() => navigateToAllFines()}
                style={{cursor: 'pointer', transition: 'transform 0.2s', padding: '10px', borderRadius: '8px'}}
                onMouseEnter={(e) => {
                  e.currentTarget.style.transform = 'scale(1.05)';
                  e.currentTarget.style.backgroundColor = 'rgba(66, 135, 245, 0.1)';
                }}
                onMouseLeave={(e) => {
                  e.currentTarget.style.transform = 'scale(1)';
                  e.currentTarget.style.backgroundColor = 'transparent';
                }}
              >
                <strong>Multe totali</strong>
                <div style={{fontSize: '2.5em', fontWeight: '700', marginTop: '5px'}}>{totalMulteCount}</div>
                <div style={{fontSize: '0.85em', marginTop: '5px'}}>
                  <span className="badge badge-pending" style={{marginRight: '5px'}}>{totalPendingCount} Pending</span>
                  <span className="badge badge-validated">{totalValidatedCount} Validated</span>
                </div>
                <div style={{fontSize: '0.75em', marginTop: '8px', color: 'var(--team-blue)', fontStyle: 'italic'}}>
                  üëÜ Click to view complete chronology
                </div>
              </div>
              <div>
                <strong>Euro totali</strong>
                <div style={{fontSize: '2.5em', fontWeight: '700', marginTop: '5px'}}>{totalEuroSum.toFixed(2)}‚Ç¨</div>
                <div style={{fontSize: '0.85em', marginTop: '5px'}}>
                  <span className="badge badge-pending" style={{marginRight: '5px'}}>{totalEuroPending.toFixed(2)}‚Ç¨ Pending</span>
                  <span className="badge badge-validated">{totalEuroValidated.toFixed(2)}‚Ç¨ Validated</span>
                </div>
              </div>
              <div>
                <strong>KASA totali</strong>
                <div style={{fontSize: '2.5em', fontWeight: '700', marginTop: '5px'}}>{totalKasa}</div>
                <div style={{fontSize: '0.85em', marginTop: '5px'}}>
                  <span className="badge badge-pending" style={{marginRight: '5px'}}>{totalKasaPending} Pending</span>
                  <span className="badge badge-validated">{totalKasaValidated} Validated</span>
                </div>
              </div>
              <div>
                <strong>MERENDA totali</strong>
                <div style={{fontSize: '2.5em', fontWeight: '700', marginTop: '5px'}}>{totalMerenda}</div>
                <div style={{fontSize: '0.85em', marginTop: '5px'}}>
                  <span className="badge badge-pending" style={{marginRight: '5px'}}>{totalMerendaPending} Pending</span>
                  <span className="badge badge-validated">{totalMerendaValidated} Validated</span>
                </div>
              </div>
            </div>
          </div>
          {stats.map(stat => (
            <div key={stat.player.id} className="player-card">
              <div style={{display: 'flex', alignItems: 'center', gap: '10px', marginBottom: '15px', paddingBottom: '10px', borderBottom: '2px solid var(--team-blue-light)'}}>
                <a
                  href={`#player/${stat.player.id}`}
                  className="player-balloon"
                  onClick={(e) => {
                    e.preventDefault();
                    navigateToPlayer(stat.player.id);
                  }}
                  style={{fontSize: '2em', cursor: 'pointer', textDecoration: 'none', transition: 'transform 0.2s'}}
                  onMouseEnter={(e) => e.target.style.transform = 'scale(1.2)'}
                  onMouseLeave={(e) => e.target.style.transform = 'scale(1)'}
                >
                  üèÄ
                </a>
                <strong style={{fontSize: '1.3em', color: 'var(--team-blue)'}}>
                  <a
                    href={`#player/${stat.player.id}`}
                    className="player-link"
                    onClick={(e) => {
                      e.preventDefault();
                      navigateToPlayer(stat.player.id);
                    }}
                  >
                    {stat.player.name} {stat.player.surname}
                  </a>
                </strong>{' '}
                {stat.player.alias !== 'ND' && `(${stat.player.alias})`}
              </div>
              <div style={{marginTop: '8px'}}>
                <div style={{display: 'flex', justifyContent: 'space-between', alignItems: 'center', padding: '12px', backgroundColor: 'var(--team-blue-light)', borderRadius: '8px', marginBottom: '10px'}}>
                  <strong style={{fontSize: '1.05em', color: 'var(--team-grey-dark)'}}>Totale multe:</strong>
                  <div>
                    <span style={{fontSize: '1.8em', fontWeight: '700', color: 'var(--team-blue)', marginRight: '10px'}}>{stat.totalCount}</span>
                    <span className="badge badge-pending" style={{fontSize: '0.7em', marginRight: '3px'}}>{stat.pendingCount} P</span>
                    <span className="badge badge-validated" style={{fontSize: '0.7em'}}>{stat.validatedCount} V</span>
                  </div>
                </div>
                <div style={{display: 'flex', justifyContent: 'space-between', alignItems: 'center', padding: '12px', backgroundColor: 'var(--team-red-lighter)', borderRadius: '8px', marginBottom: '10px'}}>
                  <strong style={{fontSize: '1.05em', color: 'var(--team-grey-dark)'}}>Totale ‚Ç¨:</strong>
                  <div>
                    <span style={{fontSize: '1.8em', fontWeight: '700', color: 'var(--team-red)'}}>{stat.totalEuro.toFixed(2)}‚Ç¨</span>
                  </div>
                </div>
                {stat.kasaCount > 0 && (
                  <div style={{display: 'flex', justifyContent: 'space-between', alignItems: 'center', padding: '12px', backgroundColor: 'var(--team-red-lighter)', borderRadius: '8px', marginBottom: '10px'}}>
                    <span className="badge badge-kasa">KASA</span>
                    <div>
                      <span style={{fontSize: '1.6em', fontWeight: '700', color: 'var(--team-red)', marginRight: '10px'}}>{stat.kasaCount}x</span>
                      <span className="badge badge-pending" style={{fontSize: '0.7em', marginRight: '3px'}}>{stat.kasaCountPending} P</span>
                      <span className="badge badge-validated" style={{fontSize: '0.7em'}}>{stat.kasaCountValidated} V</span>
                    </div>
                  </div>
                )}
                {stat.merendaCount > 0 && (
                  <div style={{display: 'flex', justifyContent: 'space-between', alignItems: 'center', padding: '12px', backgroundColor: 'var(--team-red-light)', borderRadius: '8px', marginBottom: '10px'}}>
                    <span className="badge badge-merenda">MERENDA</span>
                    <div>
                      <span style={{fontSize: '1.6em', fontWeight: '700', color: 'var(--team-red-dark)', marginRight: '10px'}}>{stat.merendaCount}x</span>
                      <span className="badge badge-pending" style={{fontSize: '0.7em', marginRight: '3px'}}>{stat.merendaCountPending} P</span>
                      <span className="badge badge-validated" style={{fontSize: '0.7em'}}>{stat.merendaCountValidated} V</span>
                    </div>
                  </div>
                )}
              </div>
            </div>
          ))}
        </div>
      );
    };

    // Render the application
    const root = ReactDOM.createRoot(document.getElementById('root'));
    root.render(<BasketballTracker />);
  </script>
</body>
</html>
